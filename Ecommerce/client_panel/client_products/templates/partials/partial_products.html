{% for product in products %}
<div class="col-md-6 col-lg-6 col-xl-4 mb-4">
    <div
        class="rounded position-relative fruite-item border border-primary h-100 d-flex flex-column">
        <div class="fruite-img d-flex align-items-center justify-content-center"
            style="height: 200px; background-color: #f8f9fa;">
            {% if product.product_media %}
            <img src="/media/{{product.product_media}}" class="img-fluid w-750 h-100 rounded-top" alt="" style="object-fit: cover;">
            {% else %}
            <p class="text-center text-muted">No image available</p>
            {% endif %}
        </div>

        <div class="text-white bg-primary px-3 py-1 rounded position-absolute"
            style="top: 10px; left: 10px;">
            {{ product.category_name }}
        </div>

        <div
            class="p-4 border-top-0 rounded-bottom flex-grow-1 d-flex flex-column justify-content-between">
            <h4 style="height: 60px; overflow: hidden;">{{ product.product_name }}</h4>
            <div class="d-flex justify-content-between align-items-center">
                <p class="text-dark fs-5 fw-bold mb-0">${{ product.price }}</p>
                {% if not product.is_active or product.inventory == 0 %}
                <button class="btn border border-secondary rounded-pill px-3 text-primary" disabled> Unavailable
                </button>
                
                {% else %}
                <a href="{% url 'product_detail_view' slug=product.slug %}"
                    class="btn border border-secondary rounded-pill px-3 text-primary">
                    <i class="fa fa-shopping-bag me-2 text-primary"></i> Add to cart
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endfor %}